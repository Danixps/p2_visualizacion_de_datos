"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7291],{30313:(e,n,t)=>{t.d(n,{A1:()=>b,Z1:()=>_});var s=t(73622),o=t(95575),r=t(33178),i=t(72510),a=t(1646),l=t(39293),d=t(98335),p=t(14173),h=t(94694),c=t(18641),u=t(9937),x=t(31219),j=t(29287),g=t(3882),m=t(78298),f=t(39924),v=t(62766),S=t(85357),I=t(5809),y=t(5598),N=t(60570),P=t(63756);function E(){let e=(0,r._)(["\n  query PipelineExplorerRootQuery(\n    $snapshotPipelineSelector: PipelineSelector\n    $snapshotId: String\n    $rootHandleID: String!\n    $requestScopeHandleID: String\n  ) {\n    pipelineSnapshotOrError(\n      snapshotId: $snapshotId\n      activePipelineSelector: $snapshotPipelineSelector\n    ) {\n      ... on PipelineSnapshot {\n        id\n        name\n        metadataEntries {\n          ...MetadataEntryFragment\n        }\n        solidHandle(handleID: $rootHandleID) {\n          ...GraphExplorerSolidHandleFragment\n        }\n        solidHandles(parentHandleID: $requestScopeHandleID) {\n          handleID\n          solid {\n            name\n            definition {\n              assetNodes {\n                id\n                ...GraphExplorerAssetNodeFragment\n              }\n            }\n          }\n          ...GraphExplorerSolidHandleFragment\n        }\n        ...GraphExplorerFragment\n      }\n      ... on PipelineNotFoundError {\n        message\n      }\n      ... on PipelineSnapshotNotFoundError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return E=function(){return e},e}let b=()=>{(0,j.b7)();let e=(0,l.g)(),n=(0,c.iI)(e["0"]),{pipelineName:t,snapshotId:s}=n,o=(0,l.W6)(),r=(0,S.e)();return(0,v.r)("Snapshot: ".concat(t).concat(s?"@".concat(s.slice(0,8)):"")),(0,i.jsx)(_,{explorerPath:n,onChangeExplorerPath:(e,n)=>{o[n]("/snapshots/".concat((0,c.ZG)(e)))},onNavigateToSourceAssetNode:(e,n)=>{let{assetKey:t}=n,s=(0,f.Q)(t);e.metaKey?r(s):o.push((0,f.Q)(t))}})},_=e=>{var n;let{explorerPath:t,repoAddress:r}=e,l=(0,P.JJ)(r,t.pipelineName),[d,p]=(0,a.useState)({explodeComposites:null!=(n=t.explodeComposites)&&n,preferAssetRendering:!0}),h=!!l&&null!==l.externalJobSource;(0,a.useEffect)(()=>(h!==d.isExternal&&p((0,o._)((0,s._)({},d),{isExternal:h})),()=>{}),[h,d]);let[c,u]=(0,I.S)("hideEdgesToNodesOutsideQuery",e=>"false"!==e&&!1!==e);if(l&&l.isAssetJob&&d.preferAssetRendering){let n=(0,P.ee)(r||null,t.pipelineName);return(0,i.jsx)(g.uj,{options:d,setOptions:p,fetchOptions:{pipelineSelector:n,hideEdgesToNodesOutsideQuery:c},explorerPath:t,onChangeExplorerPath:e.onChangeExplorerPath,onNavigateToSourceAssetNode:e.onNavigateToSourceAssetNode,viewType:m.kh.JOB,setHideEdgesToNodesOutsideQuery:u},t.pipelineName)}return(0,i.jsx)(A,(0,o._)((0,s._)({},e),{options:d,setOptions:p}))},A=e=>{let{explorerPath:n,repoAddress:t,onChangeExplorerPath:s,onNavigateToSourceAssetNode:o,isGraph:r=!1,options:a,setOptions:l}=e,c=n.opNames.slice(0,n.opNames.length-1),x=(0,P.ee)(t||null,n.pipelineName),j=(0,u.IT)(H,{variables:{snapshotPipelineSelector:n.snapshotId?void 0:x,snapshotId:n.snapshotId?n.snapshotId:void 0,rootHandleID:c.join("."),requestScopeHandleID:a.explodeComposites?void 0:c.join(".")}});return(0,i.jsx)(N.R,{queryResult:j,children:e=>{let{pipelineSnapshotOrError:c}=e;if("PipelineSnapshot"!==c.__typename)return(0,i.jsx)(h.s,{isGraph:r,result:c,repoAddress:t});let u=c.solidHandle,j=a.explodeComposites?(0,d.$)(c.solidHandles):c.solidHandles,f=c.solidHandles.some(e=>e.solid.definition.assetNodes.length>0);return a.preferAssetRendering&&f?(0,i.jsx)(g.uj,{options:a,setOptions:l,fetchOptions:{pipelineSelector:x},explorerPath:n,onChangeExplorerPath:s,onNavigateToSourceAssetNode:o,viewType:m.kh.JOB}):(0,i.jsx)(p.Uh,{options:a,setOptions:l,explorerPath:n,onChangeExplorerPath:s,container:c,repoAddress:t,handles:j,parentHandle:u||void 0,isGraph:r,getInvocations:e=>j.filter(n=>n.solid.definition.name===e).map(e=>({handleID:e.handleID}))})}})},H=(0,u.J1)(E(),y.U,p.G4,p.zO,p.wo,x.z)},30479:(e,n,t)=>{t.d(n,{n:()=>O});var s=t(73622),o=t(95575),r=t(72510),i=t(28969),a=t(13636),l=t(68339),d=t(37373),p=t(1646),h=t(39293),c=t(18641),u=t(47713),x=t(71172),j=t(87745),g=t(63756),m=t(69787);let f=e=>{let{repoAddress:n,anyFilter:t,jobName:s,jobPath:o}=e,i=(0,g.GK)(n),l=(0,g.PO)(i,s),d=(0,g._z)(i,s);return(0,r.jsx)(a.a,{padding:{vertical:64},children:(0,r.jsx)(x.I,{icon:"run",title:"No runs found",description:n?d?(0,r.jsx)("div",{children:t?"There are no matching runs for these filters.":"You have not launched any runs for this external job."}):l?(0,r.jsxs)(a.a,{flex:{direction:"column",gap:12},children:[(0,r.jsx)("div",{children:t?"There are no matching runs for these filters.":"You have not materialized any assets with this job yet."}),(0,r.jsx)("div",{children:(0,r.jsx)(j.A,{icon:(0,r.jsx)(u.In,{name:"materialization"}),to:(0,m.HG)(n,"/jobs/".concat(o)),children:"Materialize an asset"})})]}):(0,r.jsxs)(a.a,{flex:{direction:"column",gap:12},children:[(0,r.jsx)("div",{children:t?"There are no matching runs for these filters.":"You have not launched any runs for this job yet."}),(0,r.jsx)("div",{children:(0,r.jsx)(j.A,{icon:(0,r.jsx)(u.In,{name:"add_circle"}),to:(0,m.HG)(n,"/jobs/".concat(o,"/playground")),children:"Launch a run"})})]}):(0,r.jsx)("div",{children:"You have not launched any runs for this job."})})})};var v=t(74335),S=t(53730),I=t(29287),y=t(5600),N=t(33759),P=t(64052),E=t(86466),b=t(90334),_=t(75544),A=t(3648),H=t(81920);let C=["status","tag","id","created_date_before","created_date_after"],O=e=>{(0,I.b7)();let{pipelinePath:n}=(0,h.g)(),{repoAddress:t=null}=e,u=(0,c.iI)(n),{pipelineName:x,snapshotId:j}=u,m=(0,g.GK)(t),O=(0,g.Ji)(m,x);(0,v.J)(u,O);let[T,D]=(0,_.HB)(C),k=(0,p.useMemo)(()=>[O?{token:"job",value:x}:{token:"pipeline",value:x},j?{token:"snapshotId",value:j}:null].filter(Boolean),[O,x,j]),w=(0,p.useMemo)(()=>{let e=[...T,...k];if(t){let n={token:"tag",value:"".concat(N.d.RepositoryLabelTag,"=").concat((0,H.DV)(t))};e.push(n)}return(0,o._)((0,s._)({},(0,_.Us)(e)),{pipelineName:x,snapshotId:j})},[T,k,x,t,j]),G=(0,p.useCallback)(e=>{let n=(0,i.AY)(e);T.some(e=>(0,i.AY)(e)===n)||D([...T,e])},[T,D]),{entries:F,paginationProps:R,queryResult:$}=(0,A.A)({filter:w,skip:!1,view:y.ivR.RUNS}),J=(0,S.Bj)($,S.eO),{button:q,activeFiltersJsx:z}=(0,_.QR)({enabledFilters:C,tokens:T,onChange:D,loading:$.loading}),B=(0,r.jsxs)(a.a,{flex:{direction:"row",gap:8,alignItems:"center"},style:{width:"100%"},padding:{right:16},children:[q,(0,r.jsx)("div",{style:{flex:1}}),(0,r.jsx)(S.D7,{refreshState:J})]}),Q=(0,r.jsxs)(a.a,{flex:{direction:"row",gap:4,alignItems:"center"},children:[k.map(e=>{let{token:n,value:t}=e;return(0,r.jsx)(l.v,{children:"".concat(n,":").concat(t)},n)}),z,z.length>0&&(0,r.jsx)(d.v,{onClick:()=>D([]),children:"Clear all"})]});return(0,r.jsx)(P.rw.Provider,{value:{refetch:J.refetch},children:$.error?(0,r.jsx)(E.h,{error:$.error}):(0,r.jsx)("div",{style:{minHeight:0},children:(0,r.jsx)(b.V,{entries:F,loading:$.loading,onAddTag:G,refetch:J.refetch,actionBarComponents:B,belowActionBarComponents:Q,paginationProps:R,filter:w,emptyState:()=>(0,r.jsx)(f,{repoAddress:t,anyFilter:T.length>0,jobName:x,jobPath:n})})})})}},69672:(e,n,t)=>{t.r(n),t.d(n,{SnapshotRoot:()=>E,default:()=>b});var s=t(72510),o=t(39293),r=t(30313),i=t(73622),a=t(95575),l=t(33178),d=t(68339),p=t(17719),h=t(24376),c=t(87563),u=t(46357),x=t(9471),j=t(9937),g=t(18641),m=t(70631),f=t(63756),v=t(69787);function S(){let e=(0,l._)(["\n  query SnapshotQuery($snapshotId: String!) {\n    pipelineSnapshotOrError(snapshotId: $snapshotId) {\n      ... on PipelineSnapshot {\n        id\n        parentSnapshotId\n      }\n    }\n  }\n"]);return S=function(){return e},e}let I=(0,j.J1)(S()),y=e=>{var n;let{activeTab:t="",explorerPath:o}=e,{pipelineName:r,snapshotId:l=""}=o,S=(0,g.ZG)((0,a._)((0,i._)({},o),{opNames:[]})),y=(0,f.sZ)(r),N=null==y?void 0:y.pipelineSnapshotId,{data:P,loading:E}=(0,j.IT)(I,{variables:{snapshotId:l}});return(0,s.jsx)(p.z,{title:(0,s.jsx)(h.M7,{style:{fontFamily:c.a.monospace,fontSize:"16px"},children:null==(n=o.snapshotId)?void 0:n.slice(0,8)}),tags:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(d.v,{icon:"schema",children:["Snapshot of"," ",(0,s.jsx)(x.N_,{to:(0,v.KU)(o.pipelineName),children:o.pipelineName})]}),(()=>{var e;return E?(0,s.jsx)(d.v,{intent:"none",children:"..."}):N&&(N===l||(null==P?void 0:P.pipelineSnapshotOrError.__typename)!=="PipelineSnapshot"||(null==P||null==(e=P.pipelineSnapshotOrError)?void 0:e.parentSnapshotId)===N)?(0,s.jsx)(d.v,{intent:"success",children:"Current"}):(0,s.jsx)(d.v,{intent:"warning",children:"Snapshot"})})()]}),tabs:(0,s.jsx)(u.tU,{selectedTabId:t,children:[{text:"Definition",pathComponent:"",href:"/snapshots/".concat(S)},{text:"Runs",pathComponent:"runs",href:"/snapshots/".concat(S,"runs")}].map(e=>{let{href:n,text:t,pathComponent:o}=e;return(0,s.jsx)(m.s,{id:o,title:t,to:n},t)})})})};var N=t(89796),P=t(30479);let E=()=>{let{pipelinePath:e,tab:n}=(0,o.g)(),t=(0,g.iI)(e);return(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",minWidth:0,width:"100%",height:"100%"},children:[(0,s.jsx)(y,{activeTab:n,explorerPath:t}),(0,s.jsxs)(o.dO,{children:[(0,s.jsx)(N.q,{path:"/snapshots/:pipelinePath/runs",children:(0,s.jsx)(P.n,{})}),(0,s.jsx)(N.q,{path:"/snapshots/(/?.*)",children:(0,s.jsx)(r.A1,{})})]})]})},b=E}}]);
//# sourceMappingURL=7291.567112273220aeca.js.map